\section{Results\label{sec:results}}
\vspace{-0.5cm}
  Results presented within this section were collected on a single machine running Windows 7 x64 with a Quad core Intel Xeon E3-1230 v3 running at 3.3GHz\footnote{The processor supports hyper-threading, enabling 4 additional concurrent logical threads.}. Additionally the FLAME-GPU framework utilised an Nvidia GeForce GTX 750 Ti \gls{gpu} which has 640 CUDA cores running at 1GHz.
  
  Each of the parameter sets utilised targeted a different performance metric identified in Section \label{sec:benchmark-model}. Results were collected by monitoring the total runtime of 1000 iterations of 3D implementations of the benchmark (executed without visualisation) and are presented as the per iteration mean. Initialisation timings are excluded as the benchmarks focal point is the performance of the nearest neighbours search carried out within each iteration.
  \begin{figure}[tb]
\begin{center}
\begin{tikzpicture}
  \begin{axis} 
  [
    legend style={at={(0.05,0.95)},anchor=north west},
    ylabel=$Average Iteration Time (ms)$, 
    xlabel=$Agent Population$,
    ymin=0,
    ymax=2100,
    xmin=0,
    xmax=270000
  ]
    \addplot [only marks, red] table[row sep=\\]{
      X Y\\
1250	1.514146484\\
2160	1.646512329\\
3430	1.888803589\\
5120	3.186385498\\
7290	5.115576172\\
10000	7.674249023\\
13310	8.905655273\\
17280	13.94162305\\
21970	18.33586523\\
27440	24.52919531\\
33750	31.38685156\\
40960	41.59342578\\
49130	51.81134766\\
58320	65.55500781\\
68590	81.06199219\\
80000	98.28935156\\
92610	120.3533516\\
106480	144.469\\
121670	174.6614531\\
138240	215.1910313\\
156250	273.6582813\\
175760	346.1039375\\
196830	435.433375\\
219520	553.204875\\
243890	708.907625\\
270000	916.731375\\
    };
    \addlegendentry{FLAME-GPU}
      \addplot [only marks, green] table[row sep=\\]{
      X Y\\
1250	4.898\\
2160	9.064\\
3430	16.052999\\
5120	25.257\\
7290	38.141998\\
10000	53.523998\\
13310	69.824997\\
17280	93.632004\\
21970	124.176003\\
27440	161.740997\\
33750	208.134995\\
40960	276.604004\\
49130	369.579987\\
58320	491.151001\\
68590	675.028992\\
80000	892.570984\\
92610	1121.407959\\
106480	1443.17395\\
121670	1775.485962\\
138240	2107.033936\\
156250	2752.391113\\
175760	3156.649902\\
196830	3492.893066\\
219520	4196.516113\\
243890	4713.98584\\
270000	5139.039063\\
    };
    \addlegendentry{MASON}
      \addplot [only marks, blue] table[row sep=\\]{
      X Y\\
1250	2.98\\
2160	5.304\\
3430	8.518\\
5120	13.666\\
7290	20.545\\
10000	29.108999\\
13310	47.221001\\
17280	62.945999\\
21970	90.262001\\
27440	122.225998\\
33750	161.865005\\
40960	212.658997\\
49130	260.583008\\
58320	324.558014\\
68590	400.717987\\
80000	479.170013\\
92610	597.85498\\
106480	710.924988\\
121670	815.866028\\
138240	936.439026\\
156250	1077.26001\\
175760	1259.281006\\
196830	1431.520996\\
219520	1611.592041\\
243890	1833.706055\\
270000	2046.395996\\
    };
    \addlegendentry{Repast Simphony}
    \addplot [smooth, red] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	1.514146484\\
2160	1.646512329\\
3430	1.888803589\\
5120	3.186385498\\
7290	5.115576172\\
10000	7.674249023\\
13310	8.905655273\\
17280	13.94162305\\
21970	18.33586523\\
27440	24.52919531\\
33750	31.38685156\\
40960	41.59342578\\
49130	51.81134766\\
58320	65.55500781\\
68590	81.06199219\\
80000	98.28935156\\
92610	120.3533516\\
106480	144.469\\
121670	174.6614531\\
138240	215.1910313\\
156250	273.6582813\\
175760	346.1039375\\
196830	435.433375\\
219520	553.204875\\
243890	708.907625\\
270000	916.731375\\
      };
    \addplot [smooth, green] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	4.898\\
2160	9.064\\
3430	16.052999\\
5120	25.257\\
7290	38.141998\\
10000	53.523998\\
13310	69.824997\\
17280	93.632004\\
21970	124.176003\\
27440	161.740997\\
33750	208.134995\\
40960	276.604004\\
49130	369.579987\\
58320	491.151001\\
68590	675.028992\\
80000	892.570984\\
92610	1121.407959\\
106480	1443.17395\\
121670	1775.485962\\
138240	2107.033936\\
156250	2752.391113\\
175760	3156.649902\\
196830	3492.893066\\
219520	4196.516113\\
243890	4713.98584\\
270000	5139.039063\\
      };
    \addplot [smooth, blue] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	2.98\\
2160	5.304\\
3430	8.518\\
5120	13.666\\
7290	20.545\\
10000	29.108999\\
13310	47.221001\\
17280	62.945999\\
21970	90.262001\\
27440	122.225998\\
33750	161.865005\\
40960	212.658997\\
49130	260.583008\\
58320	324.558014\\
68590	400.717987\\
80000	479.170013\\
92610	597.85498\\
106480	710.924988\\
121670	815.866028\\
138240	936.439026\\
156250	1077.26001\\
175760	1259.281006\\
196830	1431.520996\\
219520	1611.592041\\
243890	1833.706055\\
270000	2046.395996\\
      };
  \end{axis}
\end{tikzpicture}
\caption{\label{fig:graph-agent-pop}The average iteration time of each framework against the agent population.}
\end{center}
\vspace{-1cm}
\end{figure}
  The results in Figure \ref{fig:graph-agent-pop} present the variation in performance as the scale of the problem increases. This is achieved by increasing the parameter $W$, which increases the volume of the environment and hence the agent population. Most apparent from these results is that FLAMEGPU, which utilises \gls{gpu} computation, as opposed to the other frameworks, which utilise a multi-threaded \gls{cpu} approach, consistently outperforms the best multi-core framework by a margin of 2-5 times. This is in line with the expectations of \gls{gpu} accelerated computation\cite{LK*10}. Although MASON and Repast Simphony are both Java based frameworks, MASON's performance trailed that of Repast by around 2-3x. Observation during runtime showed MASON with much lower multi-core utilisation than Repast, which likely explains this disparity.
  % Width: 50,60..300
  % Density: 0.01
  % Interaction Rad: 5.0
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 1000
  \begin{figure}[tb]
\begin{center}
\begin{tikzpicture}
  \begin{axis} 
  [
    legend style={at={(0.05,0.95)},anchor=north west},
    ylabel=$Average Iteration Time (ms)$, 
    xlabel=$Estimated Neighbourhood Population$,
    ymin=0,
    ymax=450,
    xmin=0,
    xmax=900
  ]
    \addplot [only marks, red] table[row sep=\\]{
      X Y\\
0.251327412	1.78173291\\
2.010619298	2.078756592\\
6.785840132	3.351190918\\
16.08495439	5.312833008\\
31.41592654	7.713648438\\
54.28672105	9.006554688\\
86.20530241	10.51312305\\
128.6796351	12.47656055\\
183.2176836	15.66040039\\
251.3274123	19.40608008\\
334.5167858	18.54429492\\
434.2937684	18.35705664\\
552.1663248	23.29955273\\
689.6424193	23.42873438\\
848.2300165	24.32291992\\
    };
    \addlegendentry{FLAME-GPU}
      \addplot [only marks, green] table[row sep=\\]{
      X Y\\
0.251327412	11.044\\
2.010619298	17.268999\\
6.785840132	27.846001\\
16.08495439	38.735001\\
31.41592654	53.648998\\
54.28672105	72.196999\\
86.20530241	95.566002\\
128.6796351	122.632004\\
183.2176836	146.360001\\
251.3274123	189.804993\\
334.5167858	235.326004\\
434.2937684	267.493011\\
552.1663248	346.460999\\
689.6424193	375.976013\\
848.2300165	412.511993\\
    };
    \addlegendentry{MASON}
      \addplot [only marks, blue] table[row sep=\\]{
      X Y\\
0.251327412	23.976999\\
2.010619298	25.709\\
6.785840132	27.112\\
16.08495439	28.657\\
31.41592654	30.372999\\
54.28672105	40.341999\\
86.20530241	35.536999\\
128.6796351	43.945\\
183.2176836	45.256001\\
251.3274123	53.710999\\
334.5167858	52.525002\\
434.2937684	63.992001\\
552.1663248	80.417999\\
689.6424193	80.948997\\
848.2300165	109.184998\\
    };
    \addlegendentry{Repast Simphony}
    \addplot [smooth, red] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	1.78173291\\
2.010619298	2.078756592\\
6.785840132	3.351190918\\
16.08495439	5.312833008\\
31.41592654	7.713648438\\
54.28672105	9.006554688\\
86.20530241	10.51312305\\
128.6796351	12.47656055\\
183.2176836	15.66040039\\
251.3274123	19.40608008\\
334.5167858	18.54429492\\
434.2937684	18.35705664\\
552.1663248	23.29955273\\
689.6424193	23.42873438\\
848.2300165	24.32291992\\
      };
    \addplot [smooth, green] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	11.044\\
2.010619298	17.268999\\
6.785840132	27.846001\\
16.08495439	38.735001\\
31.41592654	53.648998\\
54.28672105	72.196999\\
86.20530241	95.566002\\
128.6796351	122.632004\\
183.2176836	146.360001\\
251.3274123	189.804993\\
334.5167858	235.326004\\
434.2937684	267.493011\\
552.1663248	346.460999\\
689.6424193	375.976013\\
848.2300165	412.511993\\
      };
    \addplot [smooth, blue] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	23.976999\\
2.010619298	25.709\\
6.785840132	27.112\\
16.08495439	28.657\\
31.41592654	30.372999\\
54.28672105	40.341999\\
86.20530241	35.536999\\
128.6796351	43.945\\
183.2176836	45.256001\\
251.3274123	53.710999\\
334.5167858	52.525002\\
434.2937684	63.992001\\
552.1663248	80.417999\\
689.6424193	80.948997\\
848.2300165	109.184998\\
      };
  \end{axis}
\end{tikzpicture}
\caption{\label{fig:graph-neighbourhood-pop}The average iteration time of each framework against the estimated neighbourhood population.}
\end{center}
\vspace{-1cm}
\end{figure}
  
  The next parameter set, shown in Figure \ref{fig:graph-neighbourhood-pop}, assessed the performance of each framework in response to increases in the agent populations within each neighbourhood. The purpose of this benchmark set was to assess how each framework performed when agents were presented with a greater number of neighbours to survey. This was achieved by increasing the parameter $r$, hence increasing the volume of each agent's radial neighbourhood. The results show a fairly linear relationship for each framework. MASON initially outperformed Repast Simphony, however the effect of increased neighbourhood sizes saw Repast Simphony perform quicker when neighbourhoods were greater than 6 agents.
  % Width: 100
  % Density: 0.01
  % Interaction Rad: 1,2..15
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 1000
  The final parameter set assessed variation in performance in response to increased entropy. This is achieved by adjusting the parameters $k_{att}$ and $k_{rep}$, causing the force exerted on the agents to increase, subsequently causing them to move faster.
  The purpose of this benchmark was to assess whether any of the frameworks benefited from reduced numbers of agents transitioning between spatial partitions. The results however showed that performance for each framework remained stable throughout all parameters as expected (See Section \ref{sec:effective-usage}).
  % Width: 50,60..300
  % Density: 0.01
  % Interaction Rad: 5.0
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 100