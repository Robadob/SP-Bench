\section{Results\label{sec:results}}
  Results presented within this section were collected on a single machine running Windows 7 x64 with a Quad core Intel Xeon E3-1230 v3 running at 3.3GHz\footnote{The processor supports hyper-threading, enabling 4 additional concurrent logical threads.}. Additionally the FLAME-GPU framework utilised an Nvidia GeForce GTX 750 Ti \gls{gpu} which has 640 CUDA cores running at 1GHz.
  
  \textbf{Some discussion around the cost equivalence of GPU(+CPU) vs CPU. (Contact Alison Dale for confirmation of hardware pricing at time of purchase.)}
  
  Each of the parameter sets utilised, targetted a different performance metric identified in Section \label{sec:effective-usage}. Results were collected by monitoring the total runtime of 1000 iterations of 3D implementations of the benchmark (executed sans visualisation) and are presented as the per iteration mean. Initialisation timings are excluded as the benchmarks focal point is the performance of the nearest neighbours search carried out within each iteration.
  \begin{figure}[tb]
\begin{tikzpicture}
  \begin{axis} 
  [
    legend style={at={(0.05,0.95)},anchor=north west},
    ylabel=$Average Iteration Time (ms)$, 
    xlabel=$Agent Population$,
    ymin=0,
    ymax=2100,
    xmin=0,
    xmax=270000
  ]
    \addplot [only marks, red] table[row sep=\\]{
      X Y\\
1250	1.514146484\\
2160	1.646512329\\
3430	1.888803589\\
5120	3.186385498\\
7290	5.115576172\\
10000	7.674249023\\
13310	8.905655273\\
17280	13.94162305\\
21970	18.33586523\\
27440	24.52919531\\
33750	31.38685156\\
40960	41.59342578\\
49130	51.81134766\\
58320	65.55500781\\
68590	81.06199219\\
80000	98.28935156\\
92610	120.3533516\\
106480	144.469\\
121670	174.6614531\\
138240	215.1910313\\
156250	273.6582813\\
175760	346.1039375\\
196830	435.433375\\
219520	553.204875\\
243890	708.907625\\
270000	916.731375\\
    };
    \addlegendentry{FLAME-GPU}
      %nc
      \addplot [only marks, green] table[row sep=\\]{
      X Y\\
1250	7.816\\
2160	14.368\\
3430	23.728001\\
5120	37.814999\\
7290	56.098\\
10000	75.567001\\
13310	102.055\\
17280	136.875\\
21970	180.102005\\
27440	238.867996\\
33750	302.32901\\
40960	462.307007\\
49130	556.781006\\
58320	796.505981\\
68590	931.85199\\
80000	1231.154053\\
92610	1631.357056\\
106480	1888.196045\\
121670	2313.437012\\
138240	2481.715088\\
    };
      %AR
    \addlegendentry{MASON}
      \addplot [only marks, blue] table[row sep=\\]{
      X Y\\
1250	2.98\\
2160	5.304\\
3430	8.518\\
5120	13.666\\
7290	20.545\\
10000	29.108999\\
13310	47.221001\\
17280	62.945999\\
21970	90.262001\\
27440	122.225998\\
33750	161.865005\\
40960	212.658997\\
49130	260.583008\\
58320	324.558014\\
68590	400.717987\\
80000	479.170013\\
92610	597.85498\\
106480	710.924988\\
121670	815.866028\\
138240	936.439026\\
156250	1077.26001\\
175760	1259.281006\\
196830	1431.520996\\
219520	1611.592041\\
243890	1833.706055\\
270000	2046.395996\\
    };
    \addlegendentry{Repast Simphony}
    \addplot [smooth, red] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	1.514146484\\
2160	1.646512329\\
3430	1.888803589\\
5120	3.186385498\\
7290	5.115576172\\
10000	7.674249023\\
13310	8.905655273\\
17280	13.94162305\\
21970	18.33586523\\
27440	24.52919531\\
33750	31.38685156\\
40960	41.59342578\\
49130	51.81134766\\
58320	65.55500781\\
68590	81.06199219\\
80000	98.28935156\\
92610	120.3533516\\
106480	144.469\\
121670	174.6614531\\
138240	215.1910313\\
156250	273.6582813\\
175760	346.1039375\\
196830	435.433375\\
219520	553.204875\\
243890	708.907625\\
270000	916.731375\\
      };
    \addplot [smooth, green] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	7.816\\
2160	14.368\\
3430	23.728001\\
5120	37.814999\\
7290	56.098\\
10000	75.567001\\
13310	102.055\\
17280	136.875\\
21970	180.102005\\
27440	238.867996\\
33750	302.32901\\
40960	462.307007\\
49130	556.781006\\
58320	796.505981\\
68590	931.85199\\
80000	1231.154053\\
92610	1631.357056\\
106480	1888.196045\\
121670	2313.437012\\
138240	2481.715088\\
      };
    \addplot [smooth, blue] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
1250	2.98\\
2160	5.304\\
3430	8.518\\
5120	13.666\\
7290	20.545\\
10000	29.108999\\
13310	47.221001\\
17280	62.945999\\
21970	90.262001\\
27440	122.225998\\
33750	161.865005\\
40960	212.658997\\
49130	260.583008\\
58320	324.558014\\
68590	400.717987\\
80000	479.170013\\
92610	597.85498\\
106480	710.924988\\
121670	815.866028\\
138240	936.439026\\
156250	1077.26001\\
175760	1259.281006\\
196830	1431.520996\\
219520	1611.592041\\
243890	1833.706055\\
270000	2046.395996\\
      };
  \end{axis}
\end{tikzpicture}
\caption{\label{fig:graph-agent-pop}Graph plotting average iteration time of each framework against the agent population.}
\end{figure}
  The results in Figure \ref{fig:graph-agent-pop} present the variation in performance as the scale of the problem increases. This is achieved by increasing the parameter $W$, which increases the volume of the environment and hence the agent population.
  Most apparent from these results is that FLAME-GPU which utilises \gls{gpu} computation, as opposed to the other frameworks which utilise a multi-threaded \gls{cpu} approach, consistently outperforms the best multi-core framework by a margin of 2-5 times. This is inline with the expectations of \gls{gpu} accelerated computation\cite{LK*10}, whereby the additional hardware cost must be factored in. Although MASON and Repast Simphony are both Java based frameworks, MASON's performance trailed that of Repast by around 2-3x. Observation during runtime showed MASON with much lower multi-core utilisation than Repast, which likely explains this disparity.
  % Width: 50,60..300
  % Density: 0.01
  % Interaction Rad: 5.0
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 1000
  \begin{figure}[tb]
\begin{tikzpicture}
  \begin{axis} 
  [
    legend style={at={(0.05,0.95)},anchor=north west},
    ylabel=$Average Iteration Time (ms)$, 
    xlabel=$Estimated Neighbourhood Population$,
    ymin=0,
    ymax=450,
    xmin=0,
    xmax=900
  ]
    \addplot [only marks, red] table[row sep=\\]{
      X Y\\
0.251327412	1.78173291\\
2.010619298	2.078756592\\
6.785840132	3.351190918\\
16.08495439	5.312833008\\
31.41592654	7.713648438\\
54.28672105	9.006554688\\
86.20530241	10.51312305\\
128.6796351	12.47656055\\
183.2176836	15.66040039\\
251.3274123	19.40608008\\
334.5167858	18.54429492\\
434.2937684	18.35705664\\
552.1663248	23.29955273\\
689.6424193	23.42873438\\
848.2300165	24.32291992\\
    };
    \addlegendentry{FLAME-GPU}
      \addplot [only marks, green] table[row sep=\\]{
      X Y\\
0.251327412	26.863001\\
2.010619298	42.509998\\
6.785840132	51.652\\
16.08495439	62.915001\\
31.41592654	78.155998\\
54.28672105	96.142998\\
86.20530241	119.059998\\
128.6796351	144.533997\\
183.2176836	190.460999\\
251.3274123	217.947998\\
334.5167858	256.714996\\
434.2937684	277.181\\
552.1663248	398.207001\\
689.6424193	432.619995\\
848.2300165	430.312012\\
    };
    \addlegendentry{MASON}
      \addplot [only marks, blue] table[row sep=\\]{
      X Y\\
0.251327412	23.976999\\
2.010619298	25.709\\
6.785840132	27.112\\
16.08495439	28.657\\
31.41592654	30.372999\\
54.28672105	40.341999\\
86.20530241	35.536999\\
128.6796351	43.945\\
183.2176836	45.256001\\
251.3274123	53.710999\\
334.5167858	52.525002\\
434.2937684	63.992001\\
552.1663248	80.417999\\
689.6424193	80.948997\\
848.2300165	109.184998\\
    };
    \addlegendentry{Repast Simphony}
    \addplot [smooth, red] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	1.78173291\\
2.010619298	2.078756592\\
6.785840132	3.351190918\\
16.08495439	5.312833008\\
31.41592654	7.713648438\\
54.28672105	9.006554688\\
86.20530241	10.51312305\\
128.6796351	12.47656055\\
183.2176836	15.66040039\\
251.3274123	19.40608008\\
334.5167858	18.54429492\\
434.2937684	18.35705664\\
552.1663248	23.29955273\\
689.6424193	23.42873438\\
848.2300165	24.32291992\\
      };
    \addplot [smooth, green] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	26.863001\\
2.010619298	42.509998\\
6.785840132	51.652\\
16.08495439	62.915001\\
31.41592654	78.155998\\
54.28672105	96.142998\\
86.20530241	119.059998\\
128.6796351	144.533997\\
183.2176836	190.460999\\
251.3274123	217.947998\\
334.5167858	256.714996\\
434.2937684	277.181\\
552.1663248	398.207001\\
689.6424193	432.619995\\
848.2300165	430.312012\\
      };
    \addplot [smooth, blue] table[row sep=\\,
      y={create col/linear regression={y=Y}}]
      {
      X Y\\
0.251327412	23.976999\\
2.010619298	25.709\\
6.785840132	27.112\\
16.08495439	28.657\\
31.41592654	30.372999\\
54.28672105	40.341999\\
86.20530241	35.536999\\
128.6796351	43.945\\
183.2176836	45.256001\\
251.3274123	53.710999\\
334.5167858	52.525002\\
434.2937684	63.992001\\
552.1663248	80.417999\\
689.6424193	80.948997\\
848.2300165	109.184998\\
      };
  \end{axis}
\end{tikzpicture}
\caption{\label{fig:graph-neighbourhood-pop}Graph plotting average iteration time of each framework against the expected neighbourhood population.}
\end{figure}
  
  The next parameter set, shown in Figure \ref{fig:graph-neighbourhood-pop}, assessed the performance of each framework in response to increases in the agent populations within each neighbourhood. This is achieved by increasing the parameter $R$, hence increasing the volume of each agents radial neighbourhood.
  % Width: 100
  % Density: 0.01
  % Interaction Rad: 1,2..15
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 1000
  The final parameter set assessed variation in performance in response to increased entropy. This is achieved by adjusting the parameters $k_{att}$ and $k_{rep}$, causing the force exerted on the particles to increase, subsequently causing them to move faster.
  The purpose of this benchmark was to assess whether any of the frameworks benefited from particles reduced particle relocations. The results however showed that performance for each framework remained stable throughout all parameters, with no discernible patterns.
  % Width: 50,60..300
  % Density: 0.01
  % Interaction Rad: 5.0
  % Attraction Force: 0.00001
  % Repulsion Force: 0.00001
  % Iterations: 100